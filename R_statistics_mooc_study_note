데이터로 배우는 통계학 mooc 강의

##6-1 최소제곱법

회귀모형-우리 집 가격은 얼마지?
회귀분석 -> 예측, 두 모형사이의 관계를 예측하기 위한 것(=두 변수 간의 관계를 모형화하는 방법)
            특히 한 변수를 이용하여 다른 변수를 예측하거나 설명하는데 유용
            
설명변수와 반응변수
반응변수(=종속변수) : 우리가 설명하거나 예측하고 싶은 변수
설명변수(=독립변수) : 반응변수의 값을 예측하기 위해 사용되는 변수

잔차(residual) : 추정치와 실제값의 차이, 오차항의 추정치, 추정치와 실제값과 수직거리 차이


##6-2 회귀모형의 진단

회귀모형 : 오차항은 서로 독립, 평균은 0, 분산은 ~~인 정규본포
회귀모형을 데이터에 적합 시키기 위해서 가정이 필요 
-> 반응변수와 설명변수간의 선형관계
-> 반응변수의 등분산성
-> 반응변수의 정규분포
-> 반응변수값의 독립

반응변수와 설명변수 관계가 선형일 경우 회귀분석을 사용할 수 있음
선형여부에 관한 판단 -> 산점도 또는 잔차 그림(residual plot)을 통해서 파악

비선형 모형의 사례 -> 에볼라 발생 건수 사례

전염병 감염건수와 같이 기하급수적으로 증가하는 자료 -> 반응변수에 로그값을 취한 후 다시 회귀분석에 적합시킴
                                                       y 값을 로그스케일로 하는 경우

로그변환 하는 경우
-> 반응변수 값에 0 이 포함된 경우 0 에 아주 작은 숫자를 더한 후 로그변환
-> 반응변수와 설명변수 모두 로그변환 하는 경우

등분산성 
-> 각 반응변수의 분산은 동일하다는 가정
-> 설명변수의 값이 증가함에 따라 반응변수의 분산이 증가하는 경향
-> 반응변수를 로그 변환 또는 제곱근 변환 등을 고려
-> 변환을 하지 않는다면 가중회귀모형을 고려

정규성 가정 (-> 맨 마지막에 체크, 등분산성 먼저 체크)
-> 반응변수가 정규분포를 따름 = 오차항이 정규분포를 따름
-> 잔차들의 히스토그램을 통해 정규성 과정 확인
-> 아주 극단적으로 치우친 분포가 아니라면 회귀분석을 적합하여도 큰 문제 없음

독립성 가정
-> 반응변수 값이 서로 의존하는 경우 예)주가지수와 같은 시계열 자료
-> 연속되는 반응변수들의 값이 서로 강한 상관관계인 경우 회귀모형 사용 불가, 시계열 자료 분석을 위한 통계모형 사용


##6-3 회귀모형의 함정

평균으로의 회귀(regression to the mean)

외삼법 : 주어진 자료의 범위 밖에서 모형을 이용하여 예측하는 것

Anscombe's quartet

회귀분석에서 이상점 : 대부분의 데이터와 떨어져 있는 점, 설명변수에서의 잔차값
                    이걸 포함해서 구할 것인가 제외하고 구할 것인가
                    
이상점의 역할 : high leverage point, 회귀직선의 기울기에는 영향을 미치지는 않지만 대부분의 데이터의 중심에서 수평적으로 떨어져 있음
                influential point, 회귀직선의 기울기에 영향을 주는 점
                
   
##6-4 사례연구 2000년 미국 대선 데이터

library(UsingR)  #UsingR 패키지에 내장된 florida 데이터 셋 사용
attach(florida)
summary(florida)

result.lm <- lm(BUCHANAN ~ BUSH)
plot(BUSH, BUCHANAN)
abline(result.lm)

summary(result.lm)

기울기가 0인지 여부
Multiple R-squared 값 : 0.3889를 제시하고 잇음 -> 반응변수의 변동(분산) 중 39%를 이 회귀모형으로 설명할 수 있다는 것을 의미

#회귀직선과 떨어진 2개의 점이 어느 카운티에 해당하는지 알고 싶을때 (n=2)
with(florida, identify(BUSH, BUCHANAN, n=2, labels=County))
위 명령어 이후 마우스커서를 해당 점에 이동시킨 후 2개의 점을 모두 클릭하면 이름이 나타남

#회귀모형 진단을 위한 4개의 그림 제공, 왼쪽 상단의 잔차 vs 반응변수의 추정치의 산점도로 선형관계 가정에 대한 검증 가능
par(mfrow=c(2,2))
plot(result.lm)


##7-1 알고리즘과 인공지능


알고리즘
머신러닝

지도학습 : 분류, 예측

강인공지능, 약인공지능

빅데이터의 2가지 유형 
길쭉한 자료 : n이 큰 경우(표본 크기가 큰 경우)
뚱뚱한 자료 : p가 큰 경우(parameter의 개수가 많은 경우)  예)마이크로 어레이

과적합과 bias-variance trade-off 
주어진 데이터를 모두 사용하여 모형을 적합시킨다면 과적합이 생길 수 있음
복잡한 모형을 적합할 경우 예측치의 편의는 줄어들지만 분산은 늘어나고(=과적합이 발생), 
단순한 모형을 적합할 경우 반대 현상
따라서 적절한 모형을 적합시켜서 과적합을 피해야

훈련자료, 평가자료, 검증자료
과적합을 피하기 위한 방안으로는 전체데이터를 훈련자료(training data)와 평가자료(test data)로 나눈 후 
훈련자료를 이용하여 분석모형을 정하고 자안한 방법의 평가를 위한 평가자료를 이용

모형의 복잡도를 결정하기 위해서 별도의 검증자료(validation data)를 사용하거나 훈련자료를 활용하는 교차 검증 방법

사례연구 : 타이타닉

















